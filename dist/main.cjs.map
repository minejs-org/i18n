{"version":3,"sources":["../src/main.ts"],"names":["I18nManager","config","stored","lang","translations","flattened","trans","obj","prefix","key","value","newKey","params","translation","param","paramValue","fallback","original","result","tokens","regex","match","fn","callback","browserStorage","memoryStorage","store","fetchTranslations","urls","manager","urlList","url","response","data","langMatch","error","LazyLoader","baseUrl","fileExtension","promise","filePath","fs","m","content","instance","getI18n","setupI18n","createLazyLoader","setupLazy","basePath","loader","setupAuto","t","tLang","tParse","setLanguage","getLanguage","getSupportedLanguages","hasKey","isRTL","isRTLLanguage","onChange","loadLanguage","loadTranslations","genPageTitle","appName","pageName","plural","count","singleKey","pluralKey","main_default"],"mappings":"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","file":"main.cjs","sourcesContent":["// src/main.ts\r\n//\r\n// Made with ❤️ by Maysara.\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ PACK ════════════════════════════════════════╗\r\n\r\n    import * as types from './types';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ CORE ════════════════════════════════════════╗\r\n\r\n    export class I18nManager {\r\n\r\n        // ┌──────────────────────────────── STATE ─────────────────────────────┐\r\n\r\n            private translations        : types.TranslationSet = {};\r\n            private currentLanguage     : types.LanguageCode = 'en';\r\n            private defaultLanguage     : types.LanguageCode = 'en';\r\n            private fallbackLanguage    : types.LanguageCode = 'en';\r\n            private supportedLanguages  = new Set<types.LanguageCode>(['en']);\r\n            private rtlLanguages        = new Set<string>(['ar', 'he', 'fa', 'ur', 'yi', 'ji', 'iw', 'ku']);\r\n            private listeners           = new Set<(lang: types.LanguageCode) => void>();\r\n            private storage?            : types.I18nStorage;\r\n            private onLanguageChange?   : (lang: types.LanguageCode) => void;\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌──────────────────────────────── INIT ──────────────────────────────┐\r\n\r\n            constructor(config?: types.I18nConfig) {\r\n                if (config) {\r\n                    this.defaultLanguage = config.defaultLanguage || 'en';\r\n                    this.fallbackLanguage = config.fallbackLanguage || config.defaultLanguage || 'en';\r\n                    this.currentLanguage = config.defaultLanguage || 'en';\r\n                    this.storage = config.storage;\r\n                    this.onLanguageChange = config.onLanguageChange;\r\n\r\n                    if (config.supportedLanguages) {\r\n                        this.supportedLanguages = new Set(config.supportedLanguages);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Initialize with stored language preference\r\n             */\r\n            public async init(): Promise<void> {\r\n                if (this.storage) {\r\n                    const stored = await this.storage.get('i18n-language');\r\n                    if (stored && this.supportedLanguages.has(stored)) {\r\n                        this.currentLanguage = stored;\r\n                    }\r\n                }\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌─────────────────────────────── LOADING ────────────────────────────┐\r\n\r\n            /**\r\n             * Load translations for a specific language\r\n             * @param lang Language code\r\n             * @param translations Translation object (can be nested)\r\n             */\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            public loadLanguage(lang: types.LanguageCode, translations: Record<string, any>): void {\r\n                if (!this.translations[lang]) {\r\n                    this.translations[lang] = {};\r\n                }\r\n\r\n                const flattened = this.flattenObject(translations);\r\n                this.translations[lang] = { ...this.translations[lang], ...flattened };\r\n                this.supportedLanguages.add(lang);\r\n            }\r\n\r\n            /**\r\n             * Load multiple languages at once\r\n             * @param translations Object with language codes as keys\r\n             */\r\n            public loadTranslations(translations: types.TranslationSet): void {\r\n                Object.entries(translations).forEach(([lang, trans]) => {\r\n                    this.loadLanguage(lang, trans);\r\n                });\r\n            }\r\n\r\n            /**\r\n             * Flatten nested object into dot notation\r\n             * @private\r\n             */\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            private flattenObject(obj: Record<string, any>, prefix: string = ''): Record<string, string> {\r\n                const flattened: Record<string, string> = {};\r\n\r\n                for (const key in obj) {\r\n                    if (!Object.prototype.hasOwnProperty.call(obj, key)) continue;\r\n\r\n                    const value = obj[key];\r\n                    const newKey = prefix ? `${prefix}.${key}` : key;\r\n\r\n                    if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\r\n                        Object.assign(flattened, this.flattenObject(value, newKey));\r\n                    } else {\r\n                        flattened[newKey] = String(value);\r\n                    }\r\n                }\r\n\r\n                return flattened;\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌───────────────────────────── TRANSLATION ──────────────────────────┐\r\n\r\n            /**\r\n             * Translate a key with parameter replacement\r\n             *\r\n             * @example\r\n             * t('welcome.message', { name: 'John' })\r\n             * // => \"Welcome, John!\"\r\n             *\r\n             * @param key Translation key (dot notation)\r\n             * @param params Optional parameters for replacement\r\n             * @returns Translated string\r\n             */\r\n            public t(key: string, params?: Record<string, string>): string {\r\n                let translation = this.getTranslation(key);\r\n\r\n                if (params) {\r\n                    Object.entries(params).forEach(([param, value]) => {\r\n                        // Check if parameter value is itself a translation key\r\n                        const paramValue = this.getTranslation(value, value);\r\n                        translation = translation.replace(\r\n                            new RegExp(`\\\\{${param}\\\\}`, 'g'),\r\n                            paramValue\r\n                        );\r\n                    });\r\n                }\r\n\r\n                return translation;\r\n            }\r\n\r\n            /**\r\n             * Get raw translation without parameter replacement\r\n             * @private\r\n             */\r\n            private getTranslation(key: string, fallback?: string): string {\r\n                // Try current language\r\n                if (this.translations[this.currentLanguage]?.[key]) {\r\n                    return this.translations[this.currentLanguage][key];\r\n                }\r\n\r\n                // Try fallback language\r\n                if (this.fallbackLanguage !== this.currentLanguage &&\r\n                    this.translations[this.fallbackLanguage]?.[key]) {\r\n                    return this.translations[this.fallbackLanguage][key];\r\n                }\r\n\r\n                // Try default language\r\n                if (this.defaultLanguage !== this.currentLanguage &&\r\n                    this.defaultLanguage !== this.fallbackLanguage &&\r\n                    this.translations[this.defaultLanguage]?.[key]) {\r\n                    return this.translations[this.defaultLanguage][key];\r\n                }\r\n\r\n                // Warn and return fallback\r\n                console.warn(`[i18n] Translation key not found: \"${key}\" (lang: ${this.currentLanguage})`);\r\n                return fallback || key;\r\n            }\r\n\r\n            /**\r\n             * Translate with a specific language temporarily\r\n             *\r\n             * @param key Translation key\r\n             * @param lang Language code\r\n             * @param params Optional parameters\r\n             */\r\n            public tLang(key: string, lang: types.LanguageCode, params?: Record<string, string>): string {\r\n                const original = this.currentLanguage;\r\n                this.currentLanguage = lang;\r\n                const result = this.t(key, params);\r\n                this.currentLanguage = original;\r\n                return result;\r\n            }\r\n\r\n            /**\r\n             * Translate and parse HTML-like tags into tokens\r\n             * Converts \\n or /n to line breaks\r\n             *\r\n             * @example\r\n             * // Translation: \"Hello\\nWorld <strong>here</strong>\"\r\n             * tParse('message')\r\n             * // => [\r\n             * //   { type: 'text', content: 'Hello' },\r\n             * //   { type: 'tag', tag: 'br', content: '' },\r\n             * //   { type: 'text', content: 'World ' },\r\n             * //   { type: 'tag', tag: 'strong', content: 'here' }\r\n             * // ]\r\n             *\r\n             * @param key Translation key\r\n             * @param params Optional parameters\r\n             * @returns Array of tokens\r\n             */\r\n            public tParse(key: string, params?: Record<string, string>): types.TranslationToken[] {\r\n                let translation = this.t(key, params);\r\n\r\n                // Convert newlines to <br> tags\r\n                translation = translation.replace(/\\\\n|\\/n/g, '<br>');\r\n\r\n                const tokens: types.TranslationToken[] = [];\r\n                const regex = /<([a-z]+)>([^<]*)<\\/\\1>|<([a-z]+)\\s*\\/?>|([^<]+)/gi;\r\n                let match;\r\n\r\n                while ((match = regex.exec(translation)) !== null) {\r\n                    if (match[4]) {\r\n                        // Plain text\r\n                        tokens.push({ type: 'text', content: match[4] });\r\n                    } else if (match[1]) {\r\n                        // Paired tag: <strong>text</strong>\r\n                        tokens.push({ type: 'tag', tag: match[1], content: match[2] });\r\n                    } else if (match[3]) {\r\n                        // Self-closing: <br> or <br/>\r\n                        tokens.push({ type: 'tag', tag: match[3], content: '' });\r\n                    }\r\n                }\r\n\r\n                return tokens.length > 0 ? tokens : [{ type: 'text', content: translation }];\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌────────────────────────────── LANGUAGE ────────────────────────────┐\r\n\r\n            /**\r\n             * Set current language\r\n             */\r\n            public async setLanguage(lang: types.LanguageCode): Promise<void> {\r\n                if (!this.supportedLanguages.has(lang)) {\r\n                    console.warn(`[i18n] Language \"${lang}\" not supported`);\r\n                    return;\r\n                }\r\n\r\n                this.currentLanguage = lang;\r\n\r\n                // Persist if storage available\r\n                if (this.storage) {\r\n                    await this.storage.set('i18n-language', lang);\r\n                }\r\n\r\n                // Notify listeners\r\n                this.listeners.forEach(fn => fn(lang));\r\n\r\n                if (this.onLanguageChange) {\r\n                    this.onLanguageChange(lang);\r\n                }\r\n            }\r\n\r\n            /**\r\n             * Get current language\r\n             */\r\n            public getLanguage(): types.LanguageCode {\r\n                return this.currentLanguage;\r\n            }\r\n\r\n            /**\r\n             * Get all supported languages\r\n             */\r\n            public getSupportedLanguages(): types.LanguageCode[] {\r\n                return Array.from(this.supportedLanguages);\r\n            }\r\n\r\n            /**\r\n             * Check if language is supported\r\n             */\r\n            public isLanguageSupported(lang: types.LanguageCode): boolean {\r\n                return this.supportedLanguages.has(lang);\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n\r\n        // ┌─────────────────────────────── HELPERS ────────────────────────────┐\r\n\r\n            /**\r\n             * Check if a translation key exists\r\n             */\r\n            public hasKey(key: string): boolean {\r\n                return !!(\r\n                    this.translations[this.currentLanguage]?.[key] ||\r\n                    this.translations[this.fallbackLanguage]?.[key] ||\r\n                    this.translations[this.defaultLanguage]?.[key]\r\n                );\r\n            }\r\n\r\n            /**\r\n             * Get all translations for current language\r\n             */\r\n            public getTranslations(): Record<string, string> {\r\n                return this.translations[this.currentLanguage] || {};\r\n            }\r\n\r\n            /**\r\n             * Check if current language is RTL\r\n             */\r\n            public isRTL(): boolean {\r\n                return this.rtlLanguages.has(this.currentLanguage.toLowerCase().substring(0, 2));\r\n            }\r\n\r\n            /**\r\n             * Check if specific language is RTL\r\n             */\r\n            public isRTLLanguage(lang: types.LanguageCode): boolean {\r\n                return this.rtlLanguages.has(lang.toLowerCase().substring(0, 2));\r\n            }\r\n\r\n            /**\r\n             * Subscribe to language changes\r\n             * @returns Unsubscribe function\r\n             */\r\n            public onChange(callback: (lang: types.LanguageCode) => void): () => void {\r\n                this.listeners.add(callback);\r\n                return () => this.listeners.delete(callback);\r\n            }\r\n\r\n        // └────────────────────────────────────────────────────────────────────┘\r\n\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ ════ ════════════════════════════════════════╗\r\n\r\n    /**\r\n     * Browser storage adapter using localStorage\r\n     */\r\n    export const browserStorage: types.I18nStorage = {\r\n        get: (key: string) => {\r\n            if (typeof localStorage === 'undefined') return null;\r\n            return localStorage.getItem(key);\r\n        },\r\n        set: (key: string, value: string) => {\r\n            if (typeof localStorage !== 'undefined') {\r\n                localStorage.setItem(key, value);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Memory storage adapter (for server/testing)\r\n     */\r\n    export const memoryStorage = (() => {\r\n        const store = new Map<string, string>();\r\n        return {\r\n            get: (key: string) => store.get(key) || null,\r\n            set: (key: string, value: string) => { store.set(key, value); }\r\n        };\r\n    })();\r\n\r\n    /**\r\n     * Fetch translations from URLs\r\n     * Works in both browser and Node.js (with node-fetch)\r\n     */\r\n    export async function fetchTranslations(\r\n        urls: string | string[],\r\n        manager: I18nManager\r\n    ): Promise<void> {\r\n        const urlList = Array.isArray(urls) ? urls : [urls];\r\n        const translations: types.TranslationSet = {};\r\n\r\n        for (const url of urlList) {\r\n            try {\r\n                const response = await fetch(url);\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    // Extract language from filename: /path/en.json -> en\r\n                    const langMatch = url.match(/([a-z]{2,3})\\.json$/i);\r\n                    const lang = langMatch ? langMatch[1].toLowerCase() : 'en';\r\n                    translations[lang] = data;\r\n                }\r\n            } catch (error) {\r\n                console.warn(`[i18n] Failed to fetch: ${url}`, error);\r\n            }\r\n        }\r\n\r\n        if (Object.keys(translations).length > 0) {\r\n            manager.loadTranslations(translations);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Lazy loader: fetch language only when needed\r\n     * Prevents loading all languages at startup\r\n     */\r\n    export class LazyLoader {\r\n        private baseUrl: string;\r\n        private manager: I18nManager;\r\n        private loading = new Map<types.LanguageCode, Promise<void>>();\r\n        private loaded = new Set<types.LanguageCode>();\r\n        private isServerSide: boolean;\r\n        private fileExtension: string;\r\n\r\n        constructor(baseUrl: string, manager: I18nManager, fileExtension: string = 'json') {\r\n            this.baseUrl = baseUrl.endsWith('/') ? baseUrl : baseUrl + '/';\r\n            this.manager = manager;\r\n            this.fileExtension = fileExtension;\r\n            this.isServerSide = typeof fetch === 'undefined';\r\n        }\r\n\r\n        /**\r\n         * Load a language file on-demand\r\n         * Caches the promise to prevent duplicate requests\r\n         */\r\n        async load(lang: types.LanguageCode): Promise<void> {\r\n            // Already loaded\r\n            if (this.loaded.has(lang)) {\r\n                return;\r\n            }\r\n\r\n            // Currently loading\r\n            if (this.loading.has(lang)) {\r\n                return this.loading.get(lang);\r\n            }\r\n\r\n            // Start loading\r\n            const promise = this.doLoad(lang);\r\n            this.loading.set(lang, promise);\r\n\r\n            try {\r\n                await promise;\r\n                this.loaded.add(lang);\r\n            } finally {\r\n                this.loading.delete(lang);\r\n            }\r\n        }\r\n\r\n        private async doLoad(lang: types.LanguageCode): Promise<void> {\r\n            try {\r\n                const filePath = `${this.baseUrl}${lang}.${this.fileExtension}`;\r\n\r\n                let data: Record<string, string> | null;\r\n\r\n                if (this.isServerSide) {\r\n                    // Node.js: Read from filesystem\r\n                    data = await this.loadFromFile(filePath);\r\n                } else {\r\n                    // Browser: Fetch from URL\r\n                    data = await this.loadFromUrl(filePath);\r\n                }\r\n\r\n                if (data) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                    this.manager.loadLanguage(lang, data as Record<string, any>);\r\n                }\r\n            } catch (error) {\r\n                console.warn(`[i18n] Error loading language: ${lang}`, error);\r\n            }\r\n        }\r\n\r\n        private async loadFromUrl(url: string): Promise<Record<string, string> | null> {\r\n            try {\r\n                const response = await fetch(url);\r\n\r\n                if (response.ok) {\r\n                    return await response.json();\r\n                } else {\r\n                    console.warn(`[i18n] Failed to load language from URL: ${url} (${response.status})`);\r\n                    return null;\r\n                }\r\n            } catch (error) {\r\n                console.warn(`[i18n] Error fetching from URL: ${url}`, error);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        private async loadFromFile(filePath: string): Promise<Record<string, string> | null> {\r\n            try {\r\n                // Dynamic import to avoid issues in browsers\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                const fs = await import('fs').then(m => m.promises).catch((): any => null);\r\n\r\n                if (!fs) {\r\n                    console.warn('[i18n] fs module not available. Running in browser?');\r\n                    return null;\r\n                }\r\n\r\n                const content = await fs.readFile(filePath, 'utf-8');\r\n                return JSON.parse(content);\r\n            } catch (error) {\r\n                console.warn(`[i18n] Error reading file: ${filePath}`, error);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        isLoaded(lang: types.LanguageCode): boolean {\r\n            return this.loaded.has(lang);\r\n        }\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ ════ ════════════════════════════════════════╗\r\n\r\n    let instance: I18nManager | null = null;\r\n\r\n    /**\r\n     * Get or create the global i18n instance\r\n     */\r\n    export function getI18n(): I18nManager {\r\n        if (!instance) {\r\n            instance = new I18nManager();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * Initialize i18n with config\r\n     * Call this once at app startup\r\n     *\r\n     * @example\r\n     * // Load only default language at startup\r\n     * await setupI18n({\r\n     *   defaultLanguage: 'en',\r\n     *   supportedLanguages: ['en', 'ar', 'fr', 'de']\r\n     * });\r\n     */\r\n    export async function setupI18n(config: types.I18nConfig): Promise<I18nManager> {\r\n        instance = new I18nManager(config);\r\n        await instance.init();\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * Create a lazy loader for translations\r\n     * Only loads languages when needed\r\n     *\r\n     * @example\r\n     * const loader = createLazyLoader('https://mycdn.com/i18n/');\r\n     *\r\n     * // Later, when user switches language:\r\n     * await loader.load('ar');\r\n     * await setLanguage('ar');\r\n     */\r\n    export function createLazyLoader(baseUrl: string, fileExtension: string = 'json'): LazyLoader {\r\n        return new LazyLoader(baseUrl, getI18n(), fileExtension);\r\n    }\r\n\r\n    /**\r\n     * Setup i18n with lazy loading\r\n     * Only loads the default language at startup\r\n     *\r\n     * @example\r\n     * // Browser\r\n     * const loader = await setupLazy({\r\n     *   defaultLanguage: 'en',\r\n     *   supportedLanguages: ['en', 'ar', 'fr', 'de', 'zh'],\r\n     *   basePath: '/i18n/'\r\n     * });\r\n     *\r\n     * // Later when user switches:\r\n     * await loader.load('ar');\r\n     * await setLanguage('ar');\r\n     */\r\n    export async function setupLazy(config: types.I18nConfig & { basePath?: string; baseUrl?: string }): Promise<LazyLoader> {\r\n        const manager = new I18nManager(config);\r\n        await manager.init();\r\n        instance = manager;\r\n\r\n        const basePath = config.basePath || config.baseUrl || './locales/';\r\n        const fileExtension = config.fileExtension || 'json';\r\n        const loader = new LazyLoader(basePath, manager, fileExtension);\r\n\r\n        // Load only the current language at startup\r\n        await loader.load(manager.getLanguage());\r\n\r\n        return loader;\r\n    }\r\n\r\n    /**\r\n     * Auto-setup: Smart initialization based on environment and config\r\n     * Automatically handles browser vs server and file vs URL loading\r\n     *\r\n     * @example\r\n     * // Browser: Auto-fetches from server\r\n     * const loader = await setupAuto({\r\n     *   defaultLanguage: 'en',\r\n     *   supportedLanguages: ['en', 'ar', 'fr'],\r\n     *   basePath: 'http://localhost:3000/static/i18n/'\r\n     * });\r\n     *\r\n     * // Server (Node.js): Auto-reads from filesystem\r\n     * const loader = await setupAuto({\r\n     *   defaultLanguage: 'en',\r\n     *   supportedLanguages: ['en', 'ar', 'fr'],\r\n     *   basePath: './public/locales/'\r\n     * });\r\n     */\r\n    export async function setupAuto(config: types.I18nConfig & { basePath: string }): Promise<LazyLoader> {\r\n        const manager = new I18nManager(config);\r\n        await manager.init();\r\n        instance = manager;\r\n\r\n        const fileExtension = config.fileExtension || 'json';\r\n        const loader = new LazyLoader(config.basePath, manager, fileExtension);\r\n\r\n        // Auto-load default language\r\n        await loader.load(manager.getLanguage());\r\n\r\n        return loader;\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ ════ ════════════════════════════════════════╗\r\n\r\n    export const t = (key: string, params?: Record<string, string>) =>\r\n        getI18n().t(key, params);\r\n\r\n    export const tLang = (key: string, lang: types.LanguageCode, params?: Record<string, string>) =>\r\n        getI18n().tLang(key, lang, params);\r\n\r\n    export const tParse = (key: string, params?: Record<string, string>) =>\r\n        getI18n().tParse(key, params);\r\n\r\n    export const setLanguage = (lang: types.LanguageCode) =>\r\n        getI18n().setLanguage(lang);\r\n\r\n    export const getLanguage = () =>\r\n        getI18n().getLanguage();\r\n\r\n    export const getSupportedLanguages = () =>\r\n        getI18n().getSupportedLanguages();\r\n\r\n    export const hasKey = (key: string) =>\r\n        getI18n().hasKey(key);\r\n\r\n    export const isRTL = () =>\r\n        getI18n().isRTL();\r\n\r\n    export const isRTLLanguage = (lang: types.LanguageCode) =>\r\n        getI18n().isRTLLanguage(lang);\r\n\r\n    export const onChange = (callback: (lang: types.LanguageCode) => void) =>\r\n        getI18n().onChange(callback);\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    export const loadLanguage = (lang: types.LanguageCode, translations: Record<string, any>) =>\r\n        getI18n().loadLanguage(lang, translations);\r\n\r\n    export const loadTranslations = (translations: types.TranslationSet) =>\r\n        getI18n().loadTranslations(translations);\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ ════ ════════════════════════════════════════╗\r\n\r\n    /**\r\n     * Generate page title with proper RTL handling\r\n     *\r\n     * @example\r\n     * // English: \"Profile - MyApp\"\r\n     * // Arabic: \"MyApp - الملف الشخصي\"\r\n     * genPageTitle('profile', 'page.')\r\n     */\r\n    export function genPageTitle(key: string, prefix: string = 'page.'): string {\r\n        const appName = t('app.name');\r\n        const pageName = t(prefix + key);\r\n        return isRTL() ? `${appName} - ${pageName}` : `${pageName} - ${appName}`;\r\n    }\r\n\r\n    /**\r\n     * Pluralization helper\r\n     *\r\n     * @example\r\n     * plural(1, 'item.single', 'item.plural') // \"1 item\"\r\n     * plural(5, 'item.single', 'item.plural') // \"5 items\"\r\n     */\r\n    export function plural(count: number, singleKey: string, pluralKey: string): string {\r\n        const key = count === 1 ? singleKey : pluralKey;\r\n        return t(key, { count: String(count) });\r\n    }\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝\r\n\r\n\r\n\r\n// ╔════════════════════════════════════════ ════ ════════════════════════════════════════╗\r\n\r\n    export default {\r\n        I18nManager,\r\n        getI18n,\r\n        setupI18n,\r\n        createLazyLoader,\r\n        setupLazy,\r\n        setupAuto,\r\n        browserStorage,\r\n        memoryStorage,\r\n        fetchTranslations,\r\n        genPageTitle,\r\n        plural,\r\n    };\r\n\r\n\r\n    export type I18nManagerInstance = InstanceType<typeof I18nManager>;\r\n    export type LazyLoaderInstance = InstanceType<typeof LazyLoader>;\r\n\r\n    export * from './types';\r\n\r\n// ╚══════════════════════════════════════════════════════════════════════════════════════╝"]}